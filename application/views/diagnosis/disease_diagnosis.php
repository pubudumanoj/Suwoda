<div id="wrapper" style="overflow: auto;">
    <div class="page-container" >
        <div class="form-title">
            <h1>Welcome to Disease Diagnosis System</h1>
            <h3>Now You can Identify 4 Diseases</h3>
            <h4>Answer to the following questionnaire and identify your disease</h4>
        </div>


        <div class="question1-1 qwrapper">
            <h4>Question 1</h4>
            <label>Which disease you are going to diagnose <span>(Select one of four)</span></label>

            <div class="question"> 
                <div><input type="radio"  class="question1-1" name="q1-1" value="a1"/> Gastritis</div>
                <div>   <input type="radio" class="question1-1" name="q1-1" value="a2"/> Rectal Blisters </div>
                <div> <input type="radio" class="question1-1" name="q1-1" value="a3"/> Migraine </div>
                <div>    <input type="radio" class="question1-1" name="q1-1" value="a4"/> Sciatica </div>
                <a id="question1-1" href="#">Next</a>
            </div>
        </div>


        <div class="question1-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-2" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 3</h4>
            <label>Do you have vomiting or nausea with acid reflux <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-3" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-3" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-3" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-3" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 4</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-4" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-4" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-4" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-4" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 5</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-5" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-5" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-5" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-5" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 6</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-6" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-6" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-6" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-6" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 7</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-7" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-7" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-7" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-7" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 8</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-8" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-8" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-8" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-8" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 9</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-9" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-9" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-9" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-9" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question1-2 qwrapper">
            <h4>Question 10</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q1-10" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q1-10" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q1-10" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q1-10" value="a4"/> no pain</div>
                <a id="question1-2" href="#">Next</a>
            </div>
        </div>

        <!-- -------------------------2nd question html codes ------------------------------------------------->
        <div class="question2-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q2-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q2-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q2-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q2-2" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question2-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q2-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q2-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q2-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q2-2" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question2-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q2-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q2-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q2-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q2-2" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question2-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q2-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q2-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q2-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q2-2" value="a4"/> no pain</div>

            </div>
        </div>

        <div class="question2-2 qwrapper">
            <h4>Question 2</h4>
            <label>Do you have upper abdominal pain (near chest) <span>(Select one of four)</span></label>
            <div class="question"> 

                <div>  <input type="radio" name="q2-2" value="a1"/> yes every time </div>
                <div>   <input type="radio" name="q2-2" value="a2"/> sometimes</div>
                <div>  <input type="radio" name="q2-2" value="a3"/> rarely </div>
                <div>   <input type="radio" name="q2-2" value="a4"/> no pain</div>
                <a id="question2-2" href="#">Next</a>
            </div>
        </div>


        <script>
            $(document).ready(function() {

/*
 * This annonymous function catch user selections on questions
 * and show and hide further questions according to user interaction
 * Final calculations will be made according to selected answers
 * Then send these results to disease_diagnosis_control class to send search results to database
 *  
 */
                $(".qwrapper").hide();
                $(".question1-1").show("slow");



                $("#question1-1").click(function() {
                    
                    /*
                     * If question1-1 is checked then it is hide and show other questions
                     * according to checked choice
                     * e.g If first choice,
                     * in question first choice is selected show
                     * all other questions related to disease 1- Gastritis
                     */

                    if ($("input[type='radio'].question1-1").is(':checked')) {
                        $(".question1-1").hide("slow");
                        if ($("input[type='radio'].question1-1:checked").val() === "a1") {

                            $(".question1-2").show("slow");
                        }
                        else if ($("input[type='radio'].question1-1:checked").val() === "a2") {

                            $(".question2-2").show("slow");
                        }
                        else if ($("input[type='radio'].question1-1:checked").val() === "a3") {

                            $(".question3-2").show("slow");
                        }
                        else if ($("input[type='radio'].question1-1:checked").val() === "a4") {

                            $(".question4-2").show("slow");
                        }
                    }
                    else {
                        alert("Select an answer");
                    }
                });


//                $("#question1-2").click(function() {
//
//                    event.preventDefault();
//
//                    $(".qwrapper").hide("slow");
//                    $(".question1-1").show("slow");
//                });
                $("#question1-2").click(function() {

                    var checkedValues = $('.question1-2 input:radio:checked').map(function() {
                        return this.value;
                    }).get();
                    
                    /*
                     * get all the selected answers in to array called checkedValues and calcuate the probability of
                     * having the disease according to following mathematical formula.
                     * if choice on selected probability is : 1
                     * if choice on selected probability is : .067
                     * if choice on selected probability is : .033
                     * if choice on selected probability is : 0
                     * 
                     * then calculate the average and get the final answer
                     * 
                     */
                    var tot = 0;
                    for (i = 0; i < checkedValues.length; i++) {
                        if (checkedValues[i] === 'a1') {
                            tot = tot + 10;
                        }
                        else if (checkedValues[i] === 'a2') {
                            tot = tot + 0.67;
                        }
                        else if (checkedValues[i] === 'a3') {
                            tot = tot + 0.33;
                        }
                        else if (checkedValues[i] === 'a4') {
                            tot = tot + 0;
                        }
                    }

                    var final = (tot / (checkedValues.length * 10)) * 100;
                    final = final.toFixed(2);
                    alert(final);
                }


                );


            });




        </script>
    </div>
</div>